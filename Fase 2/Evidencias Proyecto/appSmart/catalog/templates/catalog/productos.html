{% extends "base.html" %}

{% block title %}Productos - SmartERP{% endblock %}

{% block content %}
<h2>Cat√°logo de Productos ({{ productos|length }})</h2>

<a href="{% url 'crear_producto' %}" style="background:#0078d7;color:white;padding:10px 15px;text-decoration:none;border-radius:4px;">+ Agregar Producto</a>

<table style="margin-top:20px;width:100%;border-collapse:collapse;">
    <tr style="background-color:#f0f0f0;">
        <th>ID</th>
        <th>T√≠tulo</th>
        <th>Marca</th>
        <th>Precio Normal</th>
        <th>Stock</th>
        <th>Oferta</th>
        <th>Acciones</th>
    </tr>
    {% for p in productos %}
    <tr style="border-bottom:1px solid #ddd;">
        <td>{{ p.id_producto }}</td>
        <td>{{ p.title }}</td>
        <td>{{ p.brand|default:"Sin marca" }}</td>
        <td>${{ p.normal_price|floatformat:2|default:"N/A" }}</td>
        <td>{% if p.sin_stock %}‚ùå Sin stock{% else %}‚úÖ Con stock{% endif %}</td>
        <td>{% if p.oferta %}üè∑Ô∏è Oferta{% else %}‚Äî{% endif %}</td>
        <td>
            <a href="{% url 'editar_producto' p.id_producto %}" style="color:blue;">Editar</a> |
            <a href="{% url 'eliminar_producto' p.id_producto %}" style="color:red;">Eliminar</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="7" style="text-align:center;">No hay productos registrados.</td></tr>
    {% endfor %}
</table>
{% endblock %}